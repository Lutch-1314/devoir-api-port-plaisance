<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Gestion des r√©servations</title>
        <link rel="stylesheet" href="/stylesheets/style.css">
    </head>
    <body>
        <header>
            <h1>Gestion des r√©servations</h1>
            <nav>
                <a href="/dashboard">üíª Retour au tableau de bord</a>
            </nav>
        </header>
        <main>
            <section>
                <table class="editable-table reservations">
                    <caption>Liste des r√©servations</caption>
                    <thead>
                        <tr>
                            <th>Num√©ro de catway</th>
                            <th>Nom du client</th>
                            <th>Nom du bateau</th>
                            <th>Date de d√©but</th>
                            <th>Date de fin</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% reservations.forEach(reservation => { %>
                            <tr>
                                <td><%= reservation.catwayNumber %></td>
                                <td><%= reservation.clientName %></td>
                                <td><%= reservation.boatName %></td>
                                <td><%= new Date(reservation.startDate).toLocaleDateString('fr-FR') %></td>
                                <td><%= new Date(reservation.endDate).toLocaleDateString('fr-FR') %></td>
                                <td><%- include('partials/edit-reservation-form', { reservation: reservation }) %></td>
                                <td><%- include('partials/delete-reservation-form', { reservation: reservation }) %></td>
                            </tr>
                        <% }) %>
                    </tbody>
                </table>
            </section>
            <section>
                <button type="button" class="add-btn">Ajouter une nouvelle r√©servation</button>
                <%- include('partials/add-reservation-form') %>
                <% if (error) { %>
                    <p class="error-message"><%= error %></p>
                <% } %>
            </section>
        </main>
        <script type="module" src="/javascripts/add-reservation.js"></script>
        <script type="module" src="/javascripts/edit-reservation.js"></script>
        <script type="module" src="/javascripts/delete-btn.js"></script>
    </body>
</html>